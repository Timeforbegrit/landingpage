# üöÄ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Supabase + –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å

## ‚úÖ –ß—Ç–æ —É–∂–µ —Å–¥–µ–ª–∞–Ω–æ:

1. **–ü—Ä–æ–µ–∫—Ç Supabase —Å–æ–∑–¥–∞–Ω**: `kfmjqugkczichvlhmdtn`
2. **–¢–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã**: `submissions`, `admin_profiles`
3. **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞**: Row Level Security –≤–∫–ª—é—á–µ–Ω
4. **–ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å**: `/admin` —Å –ª–æ–≥–∏–Ω–æ–º –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–æ–º
5. **API –æ–±–Ω–æ–≤–ª–µ–Ω**: –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Supabase

---

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ `supabase-config.txt` –≤ –≤–∞—à `.env.local` —Ñ–∞–π–ª:

```env
NEXT_PUBLIC_SUPABASE_URL=https://kfmjqugkczichvlhmdtn.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtmbWpxdWdrY3ppY2h2bGhtZHRuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDg1MTEwNTUsImV4cCI6MjA2NDA4NzA1NX0.ANO2KSYpJQ6I9kgDhQWPzIXXdNLmLGxU-cMSyqIx_Jk
ADMIN_EMAIL=admin@pravorisk.ai
```

---

## üë§ –°–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä–≤–æ–≥–æ –∞–¥–º–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ Supabase Dashboard (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. –û—Ç–∫—Ä–æ–π—Ç–µ [Supabase Dashboard](https://app.supabase.com/project/kfmjqugkczichvlhmdtn)
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Authentication** ‚Üí **Users**
3. –ù–∞–∂–º–∏—Ç–µ **Add user**
4. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ:
   - Email: `admin@pravorisk.ai`
   - Password: `–≤–∞—à_–±–µ–∑–æ–ø–∞—Å–Ω—ã–π_–ø–∞—Ä–æ–ª—å`
   - Confirm: –≤–∫–ª—é—á–∏—Ç–µ
5. –ù–∞–∂–º–∏—Ç–µ **Create user**

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ SQL (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)

1. –û—Ç–∫—Ä–æ–π—Ç–µ **SQL Editor** –≤ Supabase Dashboard
2. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É:

```sql
SELECT create_admin_user('admin@pravorisk.ai', 'password123', '–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä');
```

**‚ö†Ô∏è –í–ê–ñ–ù–û**: –ó–∞–º–µ–Ω–∏—Ç–µ `password123` –Ω–∞ –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –ø–∞—Ä–æ–ª—å!

---

## üèÉ‚Äç‚ôÇÔ∏è –ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã)
npm install

# –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
npm run dev
```

–¢–µ–ø–µ—Ä—å –¥–æ—Å—Ç—É–ø–Ω—ã:
- **–õ–µ–Ω–¥–∏–Ω–≥**: http://localhost:3000
- **–ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å**: http://localhost:3000/admin

---

## üîê –í—Ö–æ–¥ –≤ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ http://localhost:3000/admin
2. –í–≤–µ–¥–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ —Å–æ–∑–¥–∞–Ω–Ω–æ–≥–æ –∞–¥–º–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
   - Email: `admin@pravorisk.ai`
   - Password: –≤–∞—à –ø–∞—Ä–æ–ª—å

---

## üìä –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏

### ‚úÖ –ß—Ç–æ –¥–æ—Å—Ç—É–ø–Ω–æ:

- **üìã –ü—Ä–æ—Å–º–æ—Ç—Ä –∑–∞—è–≤–æ–∫**: –≤—Å–µ –∑–∞—è–≤–∫–∏ —Å —Ñ–æ—Ä–º—ã –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- **üîç –ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è**: –ø–æ –∏–º–µ–Ω–∏, email, –∫–æ–º–ø–∞–Ω–∏–∏, —Å—Ç–∞—Ç—É—Å—É
- **üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞**: –æ–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∑–∞—è–≤–∫–∞–º
- **üìù –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞–º–∏**: 
  - –ù–æ–≤–∞—è
  - –°–≤—è–∑–∞–ª–∏—Å—å  
  - –ö–≤–∞–ª–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–∞—è
  - –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–∞
- **üìß –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è**: –∫–Ω–æ–ø–∫–∏ "–ù–∞–ø–∏—Å–∞—Ç—å –ø–∏—Å—å–º–æ" –∏ "–ü–æ–∑–≤–æ–Ω–∏—Ç—å"
- **üë§ –ü—Ä–æ—Ñ–∏–ª—å –∞–¥–º–∏–Ω–∞**: –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ—Å–ª–µ–¥–Ω–µ–º –≤—Ö–æ–¥–µ
- **üö™ –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –≤—ã—Ö–æ–¥**: –∫–Ω–æ–ø–∫–∞ –≤—ã—Ö–æ–¥–∞

### üì± –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å:
- –ü–æ–ª–Ω–æ—Å—Ç—å—é –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω
- –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
- –¢–µ–º–Ω–∞—è —Ç–µ–º–∞

---

## üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### Row Level Security (RLS) –Ω–∞—Å—Ç—Ä–æ–µ–Ω:

1. **–ó–∞—è–≤–∫–∏**:
   - –°–æ–∑–¥–∞–Ω–∏–µ: —Ä–∞–∑—Ä–µ—à–µ–Ω–æ –≤—Å–µ–º (–¥–ª—è —Ñ–æ—Ä–º—ã)
   - –ß—Ç–µ–Ω–∏–µ/–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ: —Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–æ–≤
   
2. **–ü—Ä–æ—Ñ–∏–ª–∏ –∞–¥–º–∏–Ω–æ–≤**:
   - –î–æ—Å—Ç—É–ø: —Ç–æ–ª—å–∫–æ –¥–ª—è –≤–ª–∞–¥–µ–ª—å—Ü–∞ –ø—Ä–æ—Ñ–∏–ª—è

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:

1. **–°–º–µ–Ω–∏—Ç–µ –ø–∞—Ä–æ–ª—å** –∞–¥–º–∏–Ω–∞ –Ω–∞ –±–µ–∑–æ–ø–∞—Å–Ω—ã–π
2. **–í–∫–ª—é—á–∏—Ç–µ 2FA** –≤ Supabase Dashboard
3. **–û–≥—Ä–∞–Ω–∏—á—å—Ç–µ IP** –¥–æ—Å—Ç—É–ø –∫ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

---

## üìß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

### –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å:
–í API –µ—Å—Ç—å –∑–∞–≥–ª—É—à–∫–∞ –¥–ª—è email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π. –î–ª—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏:

#### Resend (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):
```bash
npm install resend
```

–î–æ–±–∞–≤—å—Ç–µ –≤ `.env.local`:
```env
RESEND_API_KEY=your_resend_api_key
```

–û–±–Ω–æ–≤–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é –≤ `app/api/submit-form/route.ts`:
```typescript
import { Resend } from 'resend'

const resend = new Resend(process.env.RESEND_API_KEY)

async function sendEmailNotification(formData: FormData) {
  await resend.emails.send({
    from: 'noreply@pravorisk.ai',
    to: process.env.ADMIN_EMAIL!,
    subject: `–ù–æ–≤–∞—è –∑–∞—è–≤–∫–∞ –æ—Ç ${formData.name} (${formData.company})`,
    html: `
      <h2>–ù–æ–≤–∞—è –∑–∞—è–≤–∫–∞ —Å —Å–∞–π—Ç–∞ "–ü—Ä–∞–≤–æ (—Ä–∏—Å–∫–∏)"</h2>
      <p><strong>–ò–º—è:</strong> ${formData.name}</p>
      <p><strong>Email:</strong> ${formData.email}</p>
      <p><strong>–ö–æ–º–ø–∞–Ω–∏—è:</strong> ${formData.company}</p>
      <p><strong>–î–æ–ª–∂–Ω–æ—Å—Ç—å:</strong> ${formData.position}</p>
      <p><strong>–¢–µ–ª–µ—Ñ–æ–Ω:</strong> ${formData.phone}</p>
      <p><a href="http://localhost:3000/admin">–ü–µ—Ä–µ–π—Ç–∏ –≤ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å</a></p>
    `
  })
}
```

---

## üîÑ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∞–¥–º–∏–Ω—ã

–î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∞–¥–º–∏–Ω–æ–≤:

1. –í –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏ Supabase —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
2. –î–æ–±–∞–≤—å—Ç–µ –∑–∞–ø–∏—Å—å –≤ —Ç–∞–±–ª–∏—Ü—É `admin_profiles`:

```sql
INSERT INTO public.admin_profiles (id, email, full_name, role)
VALUES (
  'user_id_from_auth_users',
  'new-admin@pravorisk.ai',
  '–ò–º—è –Ω–æ–≤–æ–≥–æ –∞–¥–º–∏–Ω–∞',
  'admin'
);
```

---

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

### Supabase Dashboard:
- **Database**: –ø—Ä–æ—Å–º–æ—Ç—Ä –¥–∞–Ω–Ω—ã—Ö –Ω–∞–ø—Ä—è–º—É—é
- **Auth**: —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- **Logs**: –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –æ—à–∏–±–æ–∫
- **Usage**: —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –í –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏:
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º –∑–∞—è–≤–æ–∫
- –ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è
- –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö (–º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å)

---

## üöÄ –î–µ–ø–ª–æ–π

### Vercel:
```bash
# –ë–∏–ª–¥ –ø—Ä–æ–µ–∫—Ç–∞
npm run build

# –î–µ–ø–ª–æ–π –Ω–∞ Vercel
vercel --prod
```

### Environment Variables –≤ Vercel:
–î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑ `.env.local` –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞ Vercel.

---

## ‚ö° –ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç

1. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:3000
2. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É "–ü–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø"
3. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:3000/admin
4. –í–æ–π–¥–∏—Ç–µ –∫–∞–∫ –∞–¥–º–∏–Ω
5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∑–∞—è–≤–∫–∞ –ø–æ—è–≤–∏–ª–∞—Å—å –≤ —Å–ø–∏—Å–∫–µ

---

## üÜò –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Supabase:
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ `.env.local`
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø—Ä–æ–µ–∫—Ç –∞–∫—Ç–∏–≤–µ–Ω

### –ù–µ –º–æ–∂–µ—Ç–µ –≤–æ–π—Ç–∏ –≤ –∞–¥–º–∏–Ω–∫—É:
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞–Ω –≤ Auth
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –µ—Å—Ç—å –∑–∞–ø–∏—Å—å –≤ `admin_profiles`

### –ó–∞—è–≤–∫–∏ –Ω–µ –ø–æ—è–≤–ª—è—é—Ç—Å—è:
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ RLS –ø–æ–ª–∏—Ç–∏–∫–∏
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ç–∞–±–ª–∏—Ü–∞ `submissions` —Å–æ–∑–¥–∞–Ω–∞

---

**üéâ –ì–æ—Ç–æ–≤–æ! –°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é.** 